{"version":3,"sources":["../../../../../../Downloads/tyre-e-commerce-frontend/components/ui/input.tsx","../../../../../../Downloads/tyre-e-commerce-frontend/app/admin/products/page.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<'input'>>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nInput.displayName = 'Input'\n\nexport { Input }\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\nconst STORAGE_KEY = \"products\"\r\n\r\nconst ITEMS_PER_PAGE = 8\r\n\r\nconst CATEGORIES = [\r\n  \"Summer\",\r\n  \"Winter\",\r\n  \"All-Season\"\r\n]\r\n\r\nexport default function AdminProductsPage(){\r\n\r\n  const [products,setProducts] = useState<any[]>([])\r\n\r\n  const [filtered,setFiltered] = useState<any[]>([])\r\n\r\n  const [search,setSearch] = useState(\"\")\r\n\r\n  const [page,setPage] = useState(1)\r\n\r\n  const [form,setForm] = useState({\r\n    title:\"\",\r\n    brand:\"\",\r\n    price:\"\",\r\n    image:\"\",\r\n    category:\"Summer\",\r\n    stock:0\r\n  })\r\n\r\n  const [editingId,setEditingId] = useState<number|null>(null)\r\n\r\n  useEffect(()=>{\r\n\r\n    loadProducts()\r\n\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n\r\n    handleSearch(search)\r\n\r\n  },[products])\r\n\r\n  function loadProducts(){\r\n\r\n    const stored = localStorage.getItem(STORAGE_KEY)\r\n\r\n    if(stored){\r\n\r\n      const data = JSON.parse(stored)\r\n\r\n      setProducts(data)\r\n\r\n      setFiltered(data)\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function saveProducts(data:any){\r\n\r\n    localStorage.setItem(STORAGE_KEY,JSON.stringify(data))\r\n\r\n    setProducts(data)\r\n\r\n  }\r\n\r\n  function handleImageUpload(e:any){\r\n\r\n    const reader = new FileReader()\r\n\r\n    reader.onload = ()=>{\r\n\r\n      setForm({\r\n        ...form,\r\n        image: reader.result as string\r\n      })\r\n\r\n    }\r\n\r\n    reader.readAsDataURL(e.target.files[0])\r\n\r\n  }\r\n\r\n  function handleSearch(value:string){\r\n\r\n    setSearch(value)\r\n\r\n    const filtered = products.filter(p=>\r\n      p.title?.toLowerCase().includes(value.toLowerCase())\r\n      ||\r\n      p.brand?.toLowerCase().includes(value.toLowerCase())\r\n    )\r\n\r\n    setFiltered(filtered)\r\n\r\n    setPage(1)\r\n\r\n  }\r\n\r\n  function addOrUpdate(){\r\n\r\n    if(editingId){\r\n\r\n      const updated = products.map(p=>\r\n        p.id===editingId\r\n        ? {...form,id:editingId}\r\n        : p\r\n      )\r\n\r\n      saveProducts(updated)\r\n\r\n      setEditingId(null)\r\n\r\n    }else{\r\n\r\n      const newProduct = {\r\n\r\n        id: Date.now(),\r\n\r\n        ...form,\r\n\r\n        stock: Number(form.stock),\r\n\r\n        price: Number(form.price),\r\n\r\n        status:\r\n          form.stock == 0\r\n          ? \"Out of Stock\"\r\n          : form.stock < 5\r\n          ? \"Low Stock\"\r\n          : \"In Stock\"\r\n\r\n      }\r\n\r\n      saveProducts([...products,newProduct])\r\n\r\n    }\r\n\r\n    resetForm()\r\n\r\n  }\r\n\r\n  function resetForm(){\r\n\r\n    setForm({\r\n      title:\"\",\r\n      brand:\"\",\r\n      price:\"\",\r\n      image:\"\",\r\n      category:\"Summer\",\r\n      stock:0\r\n    })\r\n\r\n  }\r\n\r\n  function edit(product:any){\r\n\r\n    setEditingId(product.id)\r\n\r\n    setForm(product)\r\n\r\n  }\r\n\r\n  function deleteProduct(id:number){\r\n\r\n    if(!confirm(\"Delete this product?\")) return\r\n\r\n    saveProducts(products.filter(p=>p.id!==id))\r\n\r\n  }\r\n\r\n  const start = (page-1)*ITEMS_PER_PAGE\r\n\r\n  const paginated = filtered.slice(\r\n    start,\r\n    start+ITEMS_PER_PAGE\r\n  )\r\n\r\n  const totalPages = Math.ceil(\r\n    filtered.length/ITEMS_PER_PAGE\r\n  )\r\n\r\n  return(\r\n\r\n    <div>\r\n\r\n      <h1 className=\"text-2xl font-bold mb-6\">\r\n        Enterprise Product Management\r\n      </h1>\r\n\r\n      {/* Search */}\r\n\r\n      <Input\r\n        placeholder=\"Search products...\"\r\n        value={search}\r\n        onChange={(e)=>handleSearch(e.target.value)}\r\n        className=\"mb-4\"\r\n      />\r\n\r\n      {/* Form */}\r\n\r\n      <div className=\"bg-white p-4 rounded-xl shadow mb-6 grid grid-cols-2 gap-3\">\r\n\r\n        <Input\r\n          placeholder=\"Title\"\r\n          value={form.title}\r\n          onChange={(e)=>setForm({...form,title:e.target.value})}\r\n        />\r\n\r\n        <Input\r\n          placeholder=\"Brand\"\r\n          value={form.brand}\r\n          onChange={(e)=>setForm({...form,brand:e.target.value})}\r\n        />\r\n\r\n        <Input\r\n          placeholder=\"Price\"\r\n          value={form.price}\r\n          onChange={(e)=>setForm({...form,price:e.target.value})}\r\n        />\r\n\r\n        <Input\r\n          placeholder=\"Stock\"\r\n          value={form.stock}\r\n          onChange={(e)=>setForm({...form,stock:Number(e.target.value)})}\r\n        />\r\n\r\n        <select\r\n          value={form.category}\r\n          onChange={(e)=>setForm({...form,category:e.target.value})}\r\n          className=\"border p-2 rounded\"\r\n        >\r\n          {CATEGORIES.map(c=>(\r\n            <option key={c}>{c}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleImageUpload}\r\n        />\r\n\r\n        <Button onClick={addOrUpdate}>\r\n          {editingId ? \"Update\" : \"Add\"}\r\n        </Button>\r\n\r\n      </div>\r\n\r\n      {/* Table */}\r\n\r\n      <div className=\"bg-white rounded-xl shadow\">\r\n\r\n        {paginated.map(product=>(\r\n\r\n          <div\r\n            key={product.id}\r\n            className=\"flex items-center justify-between border-b p-3\"\r\n          >\r\n\r\n            <div className=\"flex gap-4 items-center\">\r\n\r\n              {product.image && (\r\n\r\n                <img\r\n                  src={product.image}\r\n                  className=\"w-12 h-12\"\r\n                />\r\n\r\n              )}\r\n\r\n              <div>\r\n\r\n                <div className=\"font-semibold\">\r\n                  {product.brand} {product.title}\r\n                </div>\r\n\r\n                <div className=\"text-sm text-gray-500\">\r\n\r\n                  {product.category}\r\n\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div>\r\n\r\n              Stock: {product.stock}\r\n\r\n            </div>\r\n\r\n            <div>\r\n\r\n              {product.status}\r\n\r\n            </div>\r\n\r\n            <div>\r\n\r\n              {product.price} kr\r\n\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n\r\n              <Button onClick={()=>edit(product)}>\r\n                Edit\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"destructive\"\r\n                onClick={()=>deleteProduct(product.id)}\r\n              >\r\n                Delete\r\n              </Button>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        ))}\r\n\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n\r\n      <div className=\"flex gap-2 mt-4\">\r\n\r\n        {Array.from({length:totalPages},(_,i)=>(\r\n\r\n          <Button\r\n            key={i}\r\n            onClick={()=>setPage(i+1)}\r\n            variant={page===i+1?\"default\":\"outline\"}\r\n          >\r\n            {i+1}\r\n          </Button>\r\n\r\n        ))}\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n"],"names":[],"mappings":"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"}
module.exports=[56130,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored.contexts.HooksClientContext},2090,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},12157,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored["react-ssr"].ReactJsxRuntime},73126,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored.contexts.AppRouterContext},70938,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored["react-ssr"].ReactServerDOMTurbopackClient},21025,(a,b,c)=>{"use strict";b.exports=a.r(58819).vendored["react-ssr"].ReactDOM},62457,a=>{"use strict";let b=["Continental","Michelin","Pirelli","Bridgestone","Goodyear","Nokian","Hankook","Dunlop"],c=[155,165,175,185,195,205,215,225,235,245,255],d=[35,40,45,50,55,60,65,70],e=[14,15,16,17,18,19,20],f=["A","B","C","D","E"],g=["A","B","C","D","E"],h=["67 dB","68 dB","69 dB","70 dB","71 dB","72 dB","73 dB"],i={Continental:["EcoContact 6","PremiumContact 7","WinterContact TS 870","AllSeasonContact 2"],Michelin:["Primacy 4+","Pilot Sport 5","Alpin 6","CrossClimate 2"],Pirelli:["Cinturato P7","P Zero","Sottozero 3","Scorpion Verde"],Bridgestone:["Turanza T005","Potenza Sport","Blizzak LM005","Weather Control A005"],Goodyear:["EfficientGrip 2","Eagle F1 Asymmetric 6","UltraGrip 9+","Vector 4Seasons Gen-3"],Nokian:["Hakka Green 3","Hakka Black 2","Hakkapeliitta R5","Seasonproof"],Hankook:["Ventus Prime 4","Ventus S1 evo 3","Winter i*cept RS3","Kinergy 4S2"],Dunlop:["Sport BluResponse 2","Sport Maxx RT 2","Winter Sport 5","All Season 2"]},j=function(){let a=[],j=1;for(let k of b){let b=i[k];for(let i of b){let l=b.indexOf(i),m=0===l||1===l?"Summer":2===l?"Winter":"All-Season";for(let b=0;b<3;b++){let l=(j+b)%c.length,n=(j+b+2)%d.length,o=(j+b+1)%e.length;a.push({id:j++,brand:k,title:i,width:c[l],profile:d[n],diameter:e[o],fuel_rating:f[b%f.length],wet_rating:g[(b+1)%g.length],noise_rating:h[(b+2)%h.length],price:Math.round(500+1500*Math.random()),image:"/tyre.webp",season:m,availability:b%3==0?"In stock":b%3==1?"3-5 days":"In stock"})}}}return a}();a.s(["ALL_PRODUCTS",0,j,"BRANDS",0,b,"DIAMETERS",0,e,"FUEL_RATINGS",0,f,"NOISE_RATINGS",0,h,"PROFILES",0,d,"SEASONS",0,["Summer","Winter","All-Season"],"WET_RATINGS",0,g,"WIDTHS",0,c])},73705,a=>{"use strict";var b=a.i(12157),c=a.i(24169),d=a.i(33032),e=a.i(95988),f=a.i(14570);let g=(0,f.default)("package-open",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]),h=(0,f.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),i=(0,f.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var j=a.i(70490);let k=(0,f.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var l=a.i(11100),m=a.i(62457);let n={Summer:"Sommar",Winter:"Vinter","All-Season":"Helars"};function o({label:a,value:c,onChange:d,options:e}){return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:c,onChange:a=>d(a.target.value),className:"h-12 w-full appearance-none rounded-lg border border-border bg-card px-4 pr-10 text-sm text-foreground transition-colors hover:border-[#D4AF37]/40 focus:border-[#D4AF37] focus:outline-none focus:ring-1 focus:ring-[#D4AF37]",children:[(0,b.jsx)("option",{value:"",children:a}),e.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),(0,b.jsx)(k,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]})}function p({filters:a,onFilterChange:d}){let[e,f]=(0,c.useState)(!1);function g(b,c){d({...a,[b]:c})}function h(){d({brand:"",width:"",profile:"",diameter:"",season:"",fuel_rating:"",wet_rating:"",noise_rating:"",min_price:"",max_price:""})}let k=Object.values(a).filter(Boolean).length,p=(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:[(0,b.jsx)(o,{label:"Dacktyp",value:a.season,onChange:a=>g("season",a),options:m.SEASONS.map(a=>({label:n[a]||a,value:a}))}),(0,b.jsx)(o,{label:"Bredd",value:a.width,onChange:a=>g("width",a),options:m.WIDTHS.map(a=>({label:`${a}`,value:`${a}`}))}),(0,b.jsx)(o,{label:"Profil",value:a.profile,onChange:a=>g("profile",a),options:m.PROFILES.map(a=>({label:`${a}`,value:`${a}`}))}),(0,b.jsx)(o,{label:"Tum",value:a.diameter,onChange:a=>g("diameter",a),options:m.DIAMETERS.map(a=>({label:`${a}"`,value:`${a}`}))}),(0,b.jsx)(o,{label:"Marke",value:a.brand,onChange:a=>g("brand",a),options:m.BRANDS.map(a=>({label:a,value:a}))}),(0,b.jsx)(o,{label:"Bransleforbrukning",value:a.fuel_rating,onChange:a=>g("fuel_rating",a),options:m.FUEL_RATINGS.map(a=>({label:`Klass ${a}`,value:a}))}),(0,b.jsx)(o,{label:"Vatgrepp",value:a.wet_rating,onChange:a=>g("wet_rating",a),options:m.WET_RATINGS.map(a=>({label:`Klass ${a}`,value:a}))}),(0,b.jsx)(o,{label:"Bullerniva",value:a.noise_rating,onChange:a=>g("noise_rating",a),options:m.NOISE_RATINGS.map(a=>({label:a,value:a}))})]});return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"md:hidden",children:[(0,b.jsxs)(l.Button,{variant:"outline",onClick:()=>f(!e),className:"mb-4 w-full gap-2",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Filter",k>0&&(0,b.jsx)("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[#D4AF37] text-[10px] font-bold text-[#0B0B0B]",children:k})]}),e&&(0,b.jsxs)("div",{className:"mb-6 rounded-xl border border-border bg-card p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Filter"}),(0,b.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>f(!1),className:"h-8 w-8","aria-label":"Stang filter",children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}),p,k>0&&(0,b.jsxs)(l.Button,{variant:"outline",onClick:h,className:"mt-3 w-full gap-2 bg-transparent",children:[(0,b.jsx)(j.X,{className:"h-4 w-4"}),"Rensa alla filter (",k,")"]})]})]}),(0,b.jsxs)("div",{className:"hidden rounded-xl border border-border bg-card p-5 md:block",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i,{className:"h-4 w-4 text-[#D4AF37]"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Filtrera dack"})]}),k>0&&(0,b.jsxs)("button",{onClick:h,className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground",children:[(0,b.jsx)(j.X,{className:"h-3.5 w-3.5"}),"Rensa alla (",k,")"]})]}),p]})]})}var q=a.i(84515);let r=(0,f.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),s=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function t({currentPage:a,totalPages:c,onPageChange:d}){if(c<=1)return null;let e=function(){let b=[];for(let d=1;d<=c;d++)1===d||d===c||d>=a-1&&d<=a+1?b.push(d):"..."!==b[b.length-1]&&b.push("...");return b}();return(0,b.jsxs)("nav",{className:"flex items-center justify-center gap-1.5","aria-label":"Sidnavigering",children:[(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",disabled:a<=1,onClick:()=>d(a-1),className:"gap-1",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Foregaende"})]}),e.map((c,e)=>"string"==typeof c?(0,b.jsx)("span",{className:"px-1 text-muted-foreground",children:"..."},`ellipsis-${e}`):(0,b.jsx)(l.Button,{variant:c===a?"default":"outline",size:"sm",onClick:()=>d(c),className:"h-9 w-9",children:c},c)),(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",disabled:a>=c,onClick:()=>d(a+1),className:"gap-1",children:[(0,b.jsx)("span",{className:"hidden sm:inline",children:"Nasta"}),(0,b.jsx)(s,{className:"h-4 w-4"})]})]})}let u=a=>fetch(a).then(a=>a.json());function v(){let a=(0,d.useSearchParams)(),f=(0,d.useRouter)(),[i,j]=(0,c.useState)({brand:a.get("brand")||"",width:a.get("width")||"",profile:a.get("profile")||"",diameter:a.get("diameter")||"",season:a.get("season")||"",fuel_rating:a.get("fuel_rating")||"",wet_rating:a.get("wet_rating")||"",noise_rating:a.get("noise_rating")||"",min_price:a.get("min_price")||"",max_price:a.get("max_price")||""}),[k,m]=(0,c.useState)(parseInt(a.get("page")||"1")),n=(0,c.useCallback)(()=>{let a=new URLSearchParams;return Object.entries(i).forEach(([b,c])=>{c&&a.set(b,c)}),a.set("page",k.toString()),`/api/products?${a.toString()}`},[i,k]),{data:o,error:r,isLoading:s}=(0,e.default)(n(),u,{keepPreviousData:!0});function v(a){j(a),m(1)}return(0,c.useEffect)(()=>{let a=new URLSearchParams;Object.entries(i).forEach(([b,c])=>{c&&a.set(b,c)}),k>1&&a.set("page",k.toString());let b=a.toString();f.replace(`/products${b?`?${b}`:""}`,{scroll:!1})},[i,k,f]),(0,b.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[(0,b.jsx)(p,{filters:i,onFilterChange:v}),(0,b.jsxs)("div",{className:"mt-4 text-center text-xs text-muted-foreground",children:["Vi har dack fran: ",(0,b.jsx)("span",{className:"font-medium uppercase tracking-wide",children:"Continental, Pirelli, Hankook, Nokian, Michelin, Goodyear, Bridgestone, Dunlop"})," m.fl."]}),(0,b.jsx)("div",{className:"mt-6 mb-6 flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Dack"}),o&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[o.total," resultat hittades"]})]})}),r&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-xl border border-destructive/20 bg-destructive/5 px-6 py-16",children:[(0,b.jsx)(h,{className:"mb-3 h-10 w-10 text-destructive"}),(0,b.jsx)("h3",{className:"mb-1 text-base font-semibold text-foreground",children:"Nagot gick fel"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Kunde inte ladda produkter. Forsok igen."}),(0,b.jsx)(l.Button,{variant:"outline",onClick:()=>window.location.reload(),children:"Forsok igen"})]}),s&&!o&&(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((a,c)=>(0,b.jsx)(q.ProductCardSkeleton,{},c))}),o&&0===o.products.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-xl border border-border bg-card px-6 py-16",children:[(0,b.jsx)(g,{className:"mb-3 h-10 w-10 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mb-1 text-base font-semibold text-foreground",children:"Inga produkter hittades"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Prova att justera dina filter for att hitta det du soker."}),(0,b.jsx)(l.Button,{variant:"outline",onClick:()=>v({brand:"",width:"",profile:"",diameter:"",season:"",fuel_rating:"",wet_rating:"",noise_rating:"",min_price:"",max_price:""}),children:"Rensa alla filter"})]}),o&&o.products.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.products.map(a=>(0,b.jsx)(q.ProductCard,{product:a},a.id))}),(0,b.jsx)("div",{className:"mt-8",children:(0,b.jsx)(t,{currentPage:o.page,totalPages:o.totalPages,onPageChange:m})})]})]})}a.s(["ProductListing",()=>v],73705)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ccdb31c8._.js.map
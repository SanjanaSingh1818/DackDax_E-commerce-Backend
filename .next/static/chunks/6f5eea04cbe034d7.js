(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76253,e=>{"use strict";var t=e.i(79085),a=e.i(18458),s=e.i(62244);let n=a.forwardRef(({className:e,type:a,...n},l)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...n}));n.displayName="Input",e.s(["Input",()=>n])},28611,e=>{"use strict";var t=e.i(79085),a=e.i(99180),s=e.i(38810),n=e.i(50330),l=e.i(62208),r=e.i(76253),i=e.i(18458),o=e.i(72323);function d(){(0,o.useRouter)();let{items:e,getTotal:d,clearCart:c}=(0,a.useCartStore)(),u=d(),[m,p]=(0,i.useState)(!1),[h,x]=(0,i.useState)({email:"",name:"",phone:"",address:"",city:"",postalCode:""}),f=e=>{x({...h,[e.target.name]:e.target.value})},g=async()=>{try{let t,a,s;p(!0),t={id:Date.now(),items:e,total:u,customer:h,date:new Date().toISOString(),status:"Paid"},s=(a=localStorage.getItem("orders"))?JSON.parse(a):[],localStorage.setItem("orders",JSON.stringify([...s,t]));let n=await fetch("/api/payment/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e,customer:h})}),l=await n.json();c(),window.location.href=l.url}catch(e){console.error(e),alert("Payment failed")}finally{p(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Header,{}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-10 grid md:grid-cols-2 gap-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Leveransinformation"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.Input,{name:"email",placeholder:"E-post",value:h.email,onChange:f}),(0,t.jsx)(r.Input,{name:"name",placeholder:"FullstÃ¤ndigt namn",value:h.name,onChange:f}),(0,t.jsx)(r.Input,{name:"phone",placeholder:"Telefon",value:h.phone,onChange:f}),(0,t.jsx)(r.Input,{name:"address",placeholder:"Adress",value:h.address,onChange:f}),(0,t.jsx)(r.Input,{name:"city",placeholder:"Stad",value:h.city,onChange:f}),(0,t.jsx)(r.Input,{name:"postalCode",placeholder:"Postnummer",value:h.postalCode,onChange:f})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Ordersammanfattning"}),e.map(e=>(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)("span",{children:[e.title," x ",e.quantity]}),(0,t.jsxs)("span",{children:[e.price*e.quantity," kr"]})]},e.id)),(0,t.jsx)("hr",{className:"my-4"}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,t.jsx)("span",{children:"Totalt"}),(0,t.jsxs)("span",{className:"text-[#D4AF37]",children:[u," kr"]})]}),(0,t.jsx)(l.Button,{onClick:g,disabled:m||0===e.length,className:"w-full mt-6 bg-[#D4AF37] text-black hover:bg-[#B8962E]",children:m?"Bearbetar...":"Betala nu"})]})]}),(0,t.jsx)(n.Footer,{})]})}e.s(["default",()=>d])}]);